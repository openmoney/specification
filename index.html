<html>

<head>
    
<title>openmoney software specification</title>

<style type="text/css">
body, div, p, h1, h2, h3, a, li { font-family: Lucida Grande,Verdana,Helvetica,Arial,sans-serif; }
body, div, p, a, li { font-size: 14px; }
.footnote { font-size: 11px; }
h1 { font-size: 28px; font-weight: bold; color: #008000; }
h2 { font-size: 24px; font-weight: bold; }
h3 { font-size: 20px; font-weight: bold; color: #008000; }
h4 { font- size: 16px; font-weight: bold; }
p { margin-bottom: 0; }
ul { margin-top: 0; }
</style> 
    
</head>

<body>

<h1>openmoney specifications</h1>

<p class="footnote">Expanded from <a href="https://paper.dropbox.com/doc/openmoney-specifications--A2ueQsb5n1iIn0oDC6yCjCFjAg-ZCwb9XOtbLSwZxrlnb5tR">the 
original specification</a> on 2020-06-28 by 
<a href="https://github.com/jethro-swan/">John Waters</a> in order to incorporate 
some of the additional notes and annotations.</p>
    
<p class="footnote">The source for this page is at 
<a href="https://github.com/openmoney/specification/">https://github.com/openmoney/specification/</a></p>

<p>The term <em>open money</em> (two words, lower case) is an aspect of free 
speech - it is a context<br />
(see <a href="https://sites.google.com/site/economicgroups/neweconomy">REA</a>)</p>

<p><em>open money</em> can be called <u>free</u> money (as in <em>free 
speech</em>, not as in free beer/lunch/load/ride).</p>

<p>The term <em>openmoney</em> (one word, lower case) refers to <u>any</u> 
software able to support the requirements of an <em>open money</em> 
implementation, operating in accordance with the principles and 
intellectual properties of the <a href="http://letsystem.org/">LETSystem
Trust</a>.</p>

<p>Some of the current developments are linked from <a href="http://openmoney.cc/">openmoney.cc</a>.</p>

<p>An <a href="https://github.com/om-tools/">openmoney</a> implementation 
is already freely available on line for test and demonstration purposes, 
and more will follow.</p>

<p>NB, <em>open money</em> is a special case of a broader concept: <em>open
metrics</em>. The specification below generally applies to <em>open metrics</em>
implementations as well.</p>

<p>The following is a minimal specification of the way in which any software 
supporting <em>open money</em> should operate.</p>

<p>An <a href="https://github.com/om-tools/">reference/testing/demonstration
implementation</a> has been designed by Dominique Legault, who also wrote 
the <a href="https://paper.dropbox.com/doc/openmoney-specifications--A2ueQsb5n1iIn0oDC6yCjCFjAg-ZCwb9XOtbLSwZxrlnb5tR">original 
draft</a> of this specification in collaboration with Michael Linton.</p>

<hr size="1">

<h3>stewards</h3>

<ul>
    
<li><p>A registered <u>steward</u> of an <em>openmoney</em> software can be any 
person or organization of persons that recognizes and accepts responsibility 
for:<ul style="margin: 0; ">
  <li>accounting of events</li>
  <li>fulfilment of promises (commitments)</li>
  </ul></p>
  
<p>To use <em>open money</em> is to mind your own business.</p></li>

<li><p>Every <em>steward</em> has a <em>stewardname</em>, and a public 
key. (In the current <a href="https://github.com/om-tools/">test/development 
implementation</a> the <em>steward</em> logs in using a password instead.)</p>
</li>

<li><p>A <em>steward</em> may optionally provide an email and choose her/his/its
notification settings.</p></li>

<li><p>A <em>steward</em> uses her/his/its <em>stewardname</em> and 
private key to authenticate.</p></li>

<li><p>The <em>openmoney</em> implementation may make provision for the 
<em>steward</em>'s public and private key to be generated deterministically 
using her/his/its <em>stewardname</em> and password.</p></li>

</ul>

<h3>namespaces</h3>

<ul>

<li><p>When a <em>steward</em> registers, she/he/it is given a private 
<em>namespace</em> with the <em>namespace</em> name "<em>stewardname</em>" as a
child of the <em>root namespace</em> configured. (In the current reference/test 
implementation, the <em>root namespace</em> is fixed as "cc" so every 
<em>steward</em> is given the <em>namespace</em> "<em>stewardname.cc</em>" upon 
registration).</p></li>

<li><p>Every <em>namespace</em> can also enclose a set of <em>currencies</em> or 
<em>accounts</em> under the control of that <em>namespace</em>'s
<em>steward</em> - i.e.<ul>
  <li>currency parameters are declared by that <em>steward</em></li>
  <li>access/usage terms are set by that <em>steward</em></li>
  </ul></p></li>
  
<li><p>Every <em>namespace</em> is managed (controlled) by a set of one or more 
<em>steward(s)</em> while every <em>steward</em> has responsibility for (control 
over) a set of zero or more <em>namespace</em>.</p></li>

<li><p>Each <em>namespace</em> is identified by a string divided into substrings 
(<em>namespace names</em>, in each case a lower case letter followed by a string 
of arbitrary length containing any combinatation of lower case letters, digits, 
"_" or "-") separated by the character ".". Therefore, with the exception of the 
<em>root namespace</em>, each <em>namespace</em> comprises at least two parts 
- <em>namespace name</em>.<em>parent namespace</em> - where the latter 
identified by its full ancestry "path" back to the <em>root namespace</em>) and 
is therefore is globally unique [note 1]. For example, the following examples 
represent two different <em>namespaces</em>:<br />
&nbsp;&nbsp;<em>berkshire.england.uk.europe</em><br />
&nbsp;&nbsp;<em>berkshire.massachussets.usa.north.america</em><br />
where both have the same <em>namespace name</em> at the start of the string but 
each has a different <em>parent namespace</em>.</p></li>

<li><p>All <em>stewards</em> of a <em>namespace</em> are notified when any of its
other <em>stewards</em> create a child <em>namespace</em>, <em>currency</em> or
<em>account</em> there.</p></li>

<li><p>All <em>stewards</em> of a <em>namespace</em> have the ability to 
<u>enable</u> or <u>disable</u> any of its child <em>namespaces</em>, 
<em>currencies</em> or <em>accounts</em>.</p></li>

<li><p>All <em>stewards</em> of a <em>namespace</em> have the ability to 
<u>move</u> child <em>namespaces</em>, <em>currencies</em> or 
<em>accounts</em> from their <em>namespace</em> to another (accessible)
<em>namespace</em>.</p></li>

<li><p>A <em>namespace</em> can be <u>public</u> or <u>private</u>:<ul>
<li>When created, a child <em>namespace</em>, <em>currency</em> or 
<em>account</em> of a <u>public</u> <em>namespace</em> is <u>enabled by 
default</u>.</li>
<li>When created, a child <em>namespace</em>, <em>currency</em> or 
<em>account</em> of a <u>private</u> <em>namespace</em> is <u>disabled by 
default</u>.</li>
</ul></p></li>

</ul>

<h3>currencies</h3>

<ul>

<li><p>A <em>currency</em> has a <em>currency name</em>, a <em>parent 
namespace</em>, and a set of zero or more <em>stewards</em>.</p></li>

<li><p>Every <em>steward</em> of a <em>currency</em> is notified whenever any 
<em>steward</em> creates an account that uses this currency.</p></li>

<li><p>Every <em>steward</em> of a <em>currency</em> has the ability to enable 
or disable <em>accounts</em> used by this <em>currency</em>.</p></li>

<li><p>Every <em>steward</em> of a <em>currency</em> gets a copy of all 
journal entries that use that <em>currency</em>.</p></li>

<li><p>A <em>currency</em> can be <em>public</em> or <em>private</em>:<ul>
<li>an <em>account</em> created to use a <em><u>public</u> currency</em> is 
<u>enabled by default</u>.</li>
<li>an <em>account</em> created to use a <em><u>private</u> currency</em> is 
<u>disabled by default</u>.</li>
</ul></li>

</ul>

<h3>accounts</h3>

<ul>

<li><p>An <em>account</em> has an <em>account name</em>, an <em>account parent 
namespace</em>, a <em>currency</em>, a <em>currency parent namespace</em> and a
set of <em>stewards</em>.</p></li>

<li><p>Account <em>stewards</em> post <em>journal <u>entries</u></em> from one 
<em>account</em> to another <em>account</em> in the same <em>currency</em>.</p>
</li>

</ul>

<h3>journals</h3>

<ul>

<li><p>A <em>journal entry</em> containing<ul>
  <li>a <em><u>to</u> account name</em></li>
  <li>a <em><u>to</u> account namespace</em></li>
  <li>a <em><u>from</u> account name</em></li>
  <li>a <em><u>from</u> account namespace</em></li>
  <li>a <em>currency name</em></li>
  <li>a <em>currency namespace</em></li>
  <li>an <em>amount</em>.</li>
</ul>is sent from the client to the server.</p>

<p><u>If</u> the server is able to verify that the <em>namespaces</em>, 
<em>currencies</em> and <em>accounts</em> specified in the <em>journal 
entry</em> are all enabled, <u>then</u>:<ul>
    <li>the <em>journal entry</em> is encrypted using the public keys 
belonging to the <em><u>to</u> account</em>'s <em>steward</em>, the 
<em><u>from</u> account</em>'s <em>steward</em> and <em>currency</em>'s 
<em>steward</em>;</li>
<li>the encrypted <em>journal entry</em> is stored on the server for their 
retrieval;</li>
<li>the <em>stewards</em> are notified (according to their preferences); 
and</li>
<li>a <u>success response code</u> is returned to the client.</li>
</ul><u>otherwise</u>:<ul>
<li>an <u>error response code</u> is returned to the client indicating where 
the point of failure lies (in most cases where an <em>accounts</em>, 
<em>currency</em> or <em>namespaces</em> is disabled or nonexistent).</li>
</ul>

<li><p>A <em>steward</em> of an <em>account</em> can request a list of all 
<em>journal entries</em> for transactions to or from that <em>account</em>.</p>
</li>

<li><p>A <em>steward</em> of a <em>currency</em> can request a list of all 
<em>journal entries</em> for transactions that <em>currency</em>.</p></li>

<li><p>Any <em>steward</em> of a <em>currency</em> has the ability to void a
<em>journal</em> entry by posting a <em>reversing journal entry</em> on behalf
of both parties.</p></li>

</p></li>

</ul>


 
 
 
 
<hr size="1">
 
<h3>notes</h3> 

<ol>

<li><strong>Collision-Resistant Names</strong>

<p>From <a href="https://tools.ietf.org/html/rfc7519">https://tools.ietf.org/html/rfc7519</a>:

<p>A name in a namespace that enables names to be allocated in a manner such 
that they are highly unlikely to collide with other names.  Examples of 
collision-resistant namespaces include: Domain Names, Object Identifiers (OIDs) 
as defined in the ITU-T X.660 and X.670 Recommendation series, and Universally 
Unique IDentifiers (UUIDs) [RFC4122].  When using an administratively delegated
namespace, the definer of a name needs to take reasonable precautions to ensure
they are in control of the portion of the namespace they use to define the 
name.</p></li>

<li><p><strong>Stewards'' names - unresolved problem</strong></li>

<p>In general, a <em>namespace</em> collisions are avoidee - e.g.<br />
&nbsp;&nbsp;<em>paris.france.eu</em><br />
is very different from<br />
&nbsp;&nbsp;<em>paris.texas.usa</em><br />
However, upon registration (currently) all <em>openmoney</em> <em>stewards</em>
create a <em>stewardname</em> which is immediately put into the <em>root 
namespace</em>.

<p>How can we avoid the Googlish/eBayish name collision problem where 
up self-registering latecomers end having to try a ridiculously large number of 
options, finding that each has already been taken, before giving up in despair
in and accepting a horrendous autogenerated suggestion such as "fred3896".</p>

<p>Maybe the initial namespace assigned to a new steward should be generated 
automatically from some additional details provided - such as town, 
county/state/whatever, country, continent, postcode/zip/whatever, etc.
​​In this case, new steward "fred"" would have a much better chance of avoiding 
collision with other Freds, and would have far less difficulty in finding an 
acceptable username if such a clash were to occur. This approach would also 
result in the automatic creation of useful geographical <em>namespaces</em> 
(where not already available).<p>

<p>The retention of such information would raise GDPR issues anywhere in Europe,
and perhaps similar issues in most other parts of the world. In this case, 
responsibility for maintaining the user's details could perhaps be delegated to
a third party well set up for that purpose. For example, MailerLite's API is 
very easy to use and seems to provide everything that might be wanted to offload
such a burden.)<p>
    
<p>There is, however, no need to retain such information. An identifier 
comprising a short <em>stewardname</em> <u>as preferred</u> along with the 
<em>namespace</em></p> generated automatically from location details could 
entered at the time of registration.</p>

<p>Alternatively, a completely random but unique initial namespace could be 
generated as a starting point for the new steward - after which she/he/it could 
create its own within an existing accessible <em>namespace</em>.</p>

<p>A better alternative might be to use the <em>steward</em>'s email address as 
the <em>stewardname</em> since this <em>should</em> be uniquely assigned to the 
<em>steward</em>. This would mean that the <em>stewardname</em> would change
every time the <em>steward</em> changed her/his/its email address, but that 
would not be a problem as long as the (mutable) <em>stewardname</em> were mapped
internally to an immutable ID (itself mapping to other mutable identification 
such as public key). The risk of misappropriation of the email address could be
mitigated by the use of a <em>steward</em>-defined PIN.</p>

</ol> 
 
 
   
    
    
</body>

</html>
